(this["webpackJsonppokedex-react"]=this["webpackJsonppokedex-react"]||[]).push([[0],{33:function(e,a,t){e.exports=t(55)},54:function(e,a,t){},55:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(16),l=t.n(c),i=t(15),o=t(6),s=t(8),m=t(56),u=t(57),d=t(58),f=t(59),p=t(60),g=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],c=a[1];return r.a.createElement(m.a,{color:"danger",sticky:"true",expand:"md"},r.a.createElement(i.b,{className:"navbar-brand d-flex",to:"/"},r.a.createElement("img",{className:"brand flex-shrink-0",src:"/pokedex-react/assets/images/pkdx.png",alt:"Pokedex"})),r.a.createElement(u.a,{onClick:function(){c(!t)},className:"navbar-dark"}),r.a.createElement(d.a,{isOpen:t,navbar:!0},r.a.createElement(f.a,{className:"mr-auto",navbar:!0},r.a.createElement(i.c,{activeClassName:"active",to:"/buscar",className:"nav-item nav-link"},"Search")),r.a.createElement(p.a,{href:"https://github.com/m00nreal/pokedex-react",target:"_blank",className:"nav-item nav-link"},r.a.createElement("img",{className:"d-none d-md-block",src:"/pokedex-react/assets/images/github.png",alt:"Github"}),r.a.createElement("span",{className:"d-md-none"},"GitHub"))))},b=t(11),E=t(19),k=t(61),h=t(62),v=t(63),N=t(64),j=t(65),O=t(66),x=function(e){return e.abilities.map((function(e){return e.ability.name}))},y=function(e){return e.types.map((function(e){return e.type.name}))},C=function(e){var a,t=e.id,n=e.image,c=e.name,l=e.abilities,i=e.height,o=e.weight,s=e.types,m=e.loading;return m?r.a.createElement(k.a,{color:"primary"}):r.a.createElement(h.a,{className:"m-auto animate__animated animate__fadeIn"},r.a.createElement(v.a,{className:"text-center font-weight-bolder"},""!==(a=c)?a.split(" ").map((function(e){return e[0].toUpperCase().concat(e.slice(1))})).join(" "):""," ",r.a.createElement("span",{className:"card-header__id small d-block  "},"# ",t)),r.a.createElement(N.a,{className:"d-flex flex-column"},m?r.a.createElement(k.a,{color:"primary"}):r.a.createElement(j.a,{className:"align-self-center",width:"50%",src:""!==n?n:"/pokedex-react/assets/images/noimg.png",alt:c}),r.a.createElement("div",null,r.a.createElement("li",{className:"list-item"},"Height: ",r.a.createElement("span",null,i/10," m")),r.a.createElement("li",{className:"list-item"},"Weight: ",o/10," kg"),r.a.createElement("div",{className:"abilities"},r.a.createElement("div",{className:"abilities-header"},"Abilities"),r.a.createElement("div",{className:"abilities-content"},l.join(", "))),r.a.createElement("li",{className:"list-item"},s.map((function(e){var a=function(e){switch(e.toLowerCase()){case"fire":return"#f5222d";case"bug":return"#7cb305";case"dark":return"#434343";case"ice":return"#69c0ff";case"electric":return"#faad14";case"grass":return"#95de64";case"normal":return"#d9d9d9";case"rock":return"#873800";case"fairy":return"#ffadd2";case"flying":return"#d6e4ff";case"ground":return"#613400";case"poison":return"#3f6600";case"steel":return"#d9d9d9";case"dragon":return"#722ed1";case"fighting":return"#ad2102";case"ghost":return"#391085";case"psychic":return"#c41d7f";case"water":return"#597ef7";default:return"#f4f4f4"}}(e);return r.a.createElement(O.a,{key:e,className:"mr-1 p-1",style:{background:a}},e)}))))))},w=t(67),S=function(){var e=Object(n.useState)({pokemonsNames:JSON.parse(localStorage.getItem("pokenames"))||[],pokemon:""}),a=Object(s.a)(e,2),t=a[0],c=a[1];Object(n.useEffect)((function(){localStorage.getItem("pokenames")||fetch("https://pokeapi.co/api/v2/pokemon?limit=1000").then((function(e){return e.json()})).then((function(e){var a=e.results.map((function(e){return e.name}));localStorage.setItem("pokenames",JSON.stringify(a)),c((function(t){return{pokemonsNames:a,pokemons:e.results}}))})).catch((function(e){return new Error("error getting info")}))}),[]);var l=function(e){var a=Object(n.useRef)(!0),t=Object(n.useState)({data:null,loading:!0,error:null}),r=Object(s.a)(t,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){return function(){a.current=!1}}),[]),Object(n.useEffect)((function(){l({data:null,loading:!0,error:null}),fetch(e).then((function(e){return e.json()})).then((function(e){var t,n=x(e),r=y(e),c={id:e.id,image:null===e||void 0===e||null===(t=e.sprites)||void 0===t?void 0:t.front_default,name:e.name,abilities:n,height:e.height,weight:e.weight,types:r};a.current&&l({loading:!1,error:null,data:c})})).catch((function(){l({data:null,loading:!1,error:"No se pudo cargar la info"})}))}),[e]),c}("https://pokeapi.co/api/v2/pokemon/".concat(t.pokemon)),i=l.data,o=l.loading,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(n.useState)(e),t=Object(s.a)(a,2),r=t[0],c=t[1],l=function(){c(e)},i=function(e){var a=e.target;c(Object(b.a)(Object(b.a)({},r),{},Object(E.a)({},a.name,a.value)))};return[r,i,l]}({pokemon:""}),u=Object(s.a)(m,3),d=u[0],f=u[1],p=u[2],g=d.pokemon,h=function(e){return e.trim().toLowerCase()};return r.a.createElement("div",{className:"container mt-4"},r.a.createElement("div",{className:"row d-flex align-content-center justify-content-center align-items-center flex-column"},r.a.createElement("div",{className:"col-6 d-flex flex-column"},r.a.createElement("h1",{className:"title text-primary text-center"},"Search by name"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=h(g);/([A-Za-z- .])+/.test(a)&&(t.pokemonsNames.includes(a)?(c((function(e){return Object(b.a)(Object(b.a)({},e),{},{pokemon:a})})),p()):c((function(e){return Object(b.a)(Object(b.a)({},e),{},{pokemon:a})})))},className:"align-self-center"},r.a.createElement("input",{autoComplete:"off",className:"form-control",id:"pokemon",name:"pokemon",onChange:f,placeholder:"Totodile...",type:"text",value:g}))),r.a.createElement("div",{className:"m-4 d-flex justify-content-center align-items-center"},""===t.pokemon&&!o&&r.a.createElement(w.a,{className:"mx-4"},"Type a name to search a pokemon"),t.pokemonsNames.includes(h(t.pokemon))&&o&&!i&&r.a.createElement(k.a,{className:"m-auto",color:"primary"}),!t.pokemonsNames.includes(h(t.pokemon))&&""!==t.pokemon&&!i&&r.a.createElement(w.a,{color:"danger"},"Pokemon ",t.pokemon," does not exists"),""!==t.pokemon&&i&&r.a.createElement(C,Object.assign({className:"mb-4"},i,{loading:o})))))},L=function(e){var a=e.data,t=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},t?r.a.createElement("div",{className:"col m-4 d-flex justify-content-center align-items-center"},r.a.createElement(k.a,{color:"primary"})):a.map((function(e){return r.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-4",key:e.id},r.a.createElement(C,Object.assign({key:e.id},e,{loading:t})))})))))},P=t(32),_=t(24),D=t.n(_),I=function(){var e=Object(n.useState)({currentPage:0,offset:0,perPage:24}),a=Object(s.a)(e,2),t=a[0],c=a[1],l=function(e){var a=Object(n.useRef)(!0),t=Object(n.useState)({data:null,loading:!0,error:null}),r=Object(s.a)(t,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){return function(){a.current=!1}}),[]),Object(n.useEffect)((function(){l({data:[],loading:!0,error:null}),fetch(e).then((function(e){return e.json()})).then((function(e){e.results.forEach((function(e){fetch(e.url).then((function(e){return e.json()})).then((function(e){var t,n=x(e),r=y(e),c={id:e.id,image:(null===e||void 0===e||null===(t=e.sprites)||void 0===t?void 0:t.front_default)||"",name:e.name,abilities:n,height:e.height,weight:e.weight,types:r};a.current&&l((function(e){return{loading:!1,error:null,data:[].concat(Object(P.a)(e.data),[c])}}))}))}))})).catch((function(){l({data:null,loading:!1,error:"No se pudo cargar la info"})}))}),[e]),c}("https://pokeapi.co/api/v2/pokemon?offset=".concat(t.offset,"&limit=").concat(t.perPage)),i=l.data,o=l.loading,m=!o&&i.sort((function(e,a){return e.id-a.id})),u=function(e){var a=t.perPage*e.selected;c(Object(b.a)(Object(b.a)({},t),{},{offset:a,currentPage:e.selected}))};return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title text-center text-primary mt-4"},"All PoKeMoN"),r.a.createElement("hr",null),r.a.createElement(L,{data:m,loading:o}),r.a.createElement("div",{className:"d-none d-md-flex justify-content-center paginate"},r.a.createElement(D.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",pageCount:41,marginPagesDisplayed:7,pageRangeDisplayed:7,onPageChange:u,containerClassName:"pagination",pageClassName:"pagination-list-item",pageLinkClassName:"link",activeClassName:"active-link",activeLinkClassName:"active-link"})),r.a.createElement("div",{className:"d-md-none d-block paginate"},r.a.createElement(D.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",pageCount:41,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:u,ontainerClassName:"pagination",pageClassName:"pagination-list-item",pageLinkClassName:"link",activeClassName:"active-link",activeLinkClassName:"active-link"})))},J=function(){return r.a.createElement(i.a,{basename:"/pokedex-react/"},r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/buscar",component:S}),r.a.createElement(o.b,{path:"/",component:I})),r.a.createElement(o.a,{to:"/"})))},R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null))};t(53),t(54);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b6469ccf.chunk.js.map